---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug";

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <!-- Intro -->
  <section class="pb-12 mt-5">
    <div class="text-xl py-1">Hi, I'm</div>
    <div class="text-5xl font-bold">Berkan Akça</div>
    <div class="text-2xl py-3 font-bold">Performance Marketing Manager</div>
    <p class="text-lg max-w-2xl">
      I design and execute multi-platform growth strategies using Google Ads, Meta, Criteo, and Amazon Ads. My work drives real business impact through data-driven creativity and relentless optimization.
    </p>

    <div class="mt-8 flex gap-5 flex-wrap">
      <a href="/contact" class="btn btn-primary">📩 Let’s Connect</a>
      <a href="/berkan-akca-cv.pdf" class="btn btn-outline">📄 Download CV</a>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="mt-16">
    <h2 class="text-2xl font-bold mb-6 text-center">✨ Testimonials</h2>
    <div class="grid gap-6 md:grid-cols-2">
      <div class="bg-base-200 p-6 rounded-lg shadow">
        <p class="text-base mb-4 italic">
          “Berkan's growth campaigns helped us scale ROAS across Google and Meta by over 4x. He’s a strategist with execution power.”
        </p>
        <p class="text-sm font-semibold text-right">— CMO, Fashion Retail</p>
      </div>
      <div class="bg-base-200 p-6 rounded-lg shadow">
        <p class="text-base mb-4 italic">
          “We saw 64% more MQLs in just 60 days thanks to his B2B funnel strategy with Criteo and Search Ads.”
        </p>
        <p class="text-sm font-semibold text-right">— VP Marketing, SaaS Firm</p>
      </div>
    </div>
  </section>

  <!-- Brands -->
  <section class="mt-20">
    <h2 class="text-2xl font-bold mb-6 text-center">🏢 Brands I've Worked With</h2>
    <div class="flex flex-wrap items-center justify-center gap-8 opacity-80 grayscale">
      <img src="/stack/meta.svg" alt="Meta" class="h-10" />
      <img src="/stack/google-ads.svg" alt="Google" class="h-10" />
      <img src="/stack/criteo.svg" alt="Criteo" class="h-10 w-auto mx-auto mb-2" loading="lazy" />
      <img src="/stack/amazon-ads.svg" alt="Amazon Ads" class="h-10" />
      <img src="/stack/reklam5.png" alt="Reklam5" class="h-10" />
    </div>
  </section>

  <!-- Stack Grid -->
  <section class="mt-20">
    <h2 class="text-2xl font-bold mb-6 text-center">📊 My Growth Stack</h2>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 justify-items-center text-center">
      <div>
        <img src="/stack/google-ads.svg" alt="Google Ads" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Google Ads</p>
      </div>
      <div>
        <img src="/stack/meta.svg" alt="Meta Ads" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Meta Ads</p>
      </div>
      <div>
        <img src="/stack/criteo.svg" alt="Criteo" class="h-10 w-auto mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Criteo</p>
      </div>
      <div>
        <img src="/stack/amazon-ads.svg" alt="Amazon Ads" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Amazon Ads</p>
      </div>
      <div>
        <img src="/stack/ga4.svg" alt="Google Analytics 4" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">GA4</p>
      </div>
      <div>
        <img src="/stack/looker.svg" alt="Looker Studio" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Looker Studio</p>
      </div>
      <div>
        <img src="/stack/tag-manager.svg" alt="Tag Manager" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Tag Manager</p>
      </div>
      <div>
        <img src="/stack/figma.svg" alt="Figma" class="h-10 mx-auto mb-2" loading="lazy" />
        <p class="text-sm opacity-80">Figma (Creative QA)</p>
      </div>
    </div>
  </section>

  <!-- Blog Feed -->
  <section class="mt-20">
    <h2 class="text-3xl font-bold mb-5">📚 Latest From the Blog</h2>
    {
      last_posts.map((post) => (
        <>
          <HorizontalCard
            title={post.data.title}
            img={post.data.heroImage}
            desc={post.data.description}
            url={"/blog/" + createSlug(post.data.title, post.slug)}
            target="_self"
            badge={post.data.badge}
          />
          <div class="divider my-0" />
        </>
      ))
    }
  </section>
</BaseLayout>
